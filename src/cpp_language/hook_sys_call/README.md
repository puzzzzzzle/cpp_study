# c 链接规则提供了很多hook机制， 这里简单整理下
## hook 动态库函数（强弱符号都行，原函数也可用）
1. dlsym RTLD_NEXT 获取原来的符号
2. 写一个同符号函数
   1. 连接器找到符号后，就不会去动态库中找了
3. 会直接调用到我们新写的函数上
   1. 这里就可以调用原来的函数了
## 覆盖静态库函数（原函数就不可见了）
1. 写一个同符号函数
    1. 连接器找到符号后，就不会去静态库中找了
2. 会直接调用到我们新写的函数上
    1. 这里就可以调用原来的函数了
3. 老的函数已经丢了
## ~~hook 静态库函数~~（暂未找到可用的方案）

## 使用动态库hook可执行文件中的函数（反向hook）
1. 运行时修改可执行文件（mprotect）
2. 直接修改符号地址
3. [详细实例](http://thomasfinch.me/blog/2015/07/24/Hooking-C-Functions-At-Runtime.html)